"use strict";(self.webpackChunkpromptgineering=self.webpackChunkpromptgineering||[]).push([[7970],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(r),d=o,f=m["".concat(l,".").concat(d)]||m[d]||c[d]||a;return r?n.createElement(f,s(s({ref:t},u),{},{components:r})):n.createElement(f,s({ref:t},u))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[m]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=r[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},49864:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>u});var n=r(87462),o=(r(67294),r(3905));const a=r.p+"assets/images/prompt_tuning-6a04ae02ae3666c98fd9f1c5e9131d34.webp",s={sidebar_position:1},i="\ud83d\udd34 Soft Prompts",l={unversionedId:"trainable/soft_prompting",id:"trainable/soft_prompting",title:"\ud83d\udd34 Soft Prompts",description:"Le r\xe9glage de prompt (@lester2021power), une alternative au r\xe9glage fin du mod\xe8le (@khashabi2021prompt), fige les poids du mod\xe8le et met \xe0 jour les param\xe8tres d'une prompt. La prompt r\xe9sultante est une \xab soft prompt \xbb.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/trainable/soft_prompting.md",sourceDirName:"trainable",slug:"/trainable/soft_prompting",permalink:"/fr/docs/trainable/soft_prompting",draft:!1,editUrl:"https://github.com/trigaten/promptgineering/tree/v1.2.3/docs/trainable/soft_prompting.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcaa Prompt Tuning",permalink:"/fr/docs/category/-prompt-tuning"},next:{title:"discretized",permalink:"/fr/docs/trainable/discretized"}},p={},u=[{value:"Comment \xe7a marche",id:"comment-\xe7a-marche",level:2}],m={toc:u},c="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-soft-prompts"},"\ud83d\udd34 Soft Prompts"),(0,o.kt)("p",null,"Le r\xe9glage de prompt",(0,o.kt)("sup",{parentName:"p",id:"fnref-1"},(0,o.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),", une alternative au r\xe9glage fin du mod\xe8le",(0,o.kt)("sup",{parentName:"p",id:"fnref-2"},(0,o.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")),", fige les poids du mod\xe8le et met \xe0 jour les param\xe8tres d'une prompt. La prompt r\xe9sultante est une \xab soft prompt \xbb."),(0,o.kt)("div",{style:{textAlign:"center"}},(0,o.kt)("img",{src:a,style:{width:"500px"}})),(0,o.kt)("div",{style:{textAlign:"center"}},"R\xe9glage du mod\xe8le vs r\xe9glage de prompt (Lester et al.)"),(0,o.kt)("p",null,"L'image ci-dessus contraste le r\xe9glage du mod\xe8le avec le r\xe9glage de la prompt.\nDans le r\xe9glage du mod\xe8le, vous r\xe9glez finement le m\xeame mod\xe8le sur diff\xe9rentes t\xe2ches. Cela vous donne\nquelques mod\xe8les diff\xe9rents, avec lesquels vous ne pouvez pas n\xe9cessairement traiter des entr\xe9es par lots facilement."),(0,o.kt)("p",null,"D'un autre c\xf4t\xe9, le r\xe9glage de prompt vous permet d'utiliser le m\xeame mod\xe8le pour toutes les t\xe2ches. Vous\nn'avez qu'\xe0 ajouter les prompts appropri\xe9es au moment de l'inf\xe9rence, ce qui facilite le traitement par lots sur\ndiff\xe9rentes t\xe2ches. C'est \xe0 peu pr\xe8s le m\xeame avantage qu'une prompt r\xe9guli\xe8re\na. De plus, les soft prompts form\xe9es pour un seul mod\xe8le sur\nplusieurs t\xe2ches auront souvent la m\xeame longueur de jeton."),(0,o.kt)("h2",{id:"comment-\xe7a-marche"},"Comment \xe7a marche"),(0,o.kt)("p",null,"Pour comprendre la logique de base derri\xe8re le soft prompting, r\xe9fl\xe9chissons \xe0 la fa\xe7on dont fonctionne ",(0,o.kt)("strong",{parentName:"p"},"l'inf\xe9rence de mod\xe8le"),"\nsur une prompt donn\xe9e : ",(0,o.kt)("inlineCode",{parentName:"p"},"Quel est 2+2 ?"),". "),(0,o.kt)("p",null,"1) Il pourrait \xeatre tokenis\xe9 comme ",(0,o.kt)("inlineCode",{parentName:"p"},"Quel, est, 2, +, 2, ?"),"."),(0,o.kt)("p",null,"2) Ensuite, chaque jeton sera converti en un vecteur de valeurs."),(0,o.kt)("p",null,"3) Ces vecteurs de valeurs peuvent \xeatre consid\xe9r\xe9s comme des param\xe8tres de mod\xe8le. Le mod\xe8le peut \xeatre encore\nentra\xeen\xe9, en ajustant uniquement les poids de ces prompts."),(0,o.kt)("p",null,"Notez qu'aussit\xf4t que nous commen\xe7ons \xe0 mettre \xe0 jour ces poids, les vecteurs des jetons\nne correspondent plus aux embeddings r\xe9els du vocabulaire."),(0,o.kt)("h1",{id:"r\xe9sultats"},"R\xe9sultats"),(0,o.kt)("p",null,"Le r\xe9glage de prompt fonctionne mieux avec des mod\xe8les plus grands. Les mod\xe8les plus grands n\xe9cessitent \xe9galement moins\nde jetons de soft prompt. Quoi qu'il en soit, plus de 20 jetons ne donnent pas de gains de performance significatifs."),(0,o.kt)("div",{className:"footnotes"},(0,o.kt)("hr",{parentName:"div"}),(0,o.kt)("ol",{parentName:"div"},(0,o.kt)("li",{parentName:"ol",id:"fn-1"},"Lester, B., Al-Rfou, R., & Constant, N. (2021). The Power of Scale for Parameter-Efficient Prompt Tuning.\n",(0,o.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-2"},"Khashabi, D., Lyu, S., Min, S., Qin, L., Richardson, K., Welleck, S., Hajishirzi, H., Khot, T., Sabharwal, A., Singh, S., & Choi, Y. (2021). Prompt Waywardness: The Curious Case of Discretized Interpretation of Continuous Prompts.\n",(0,o.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}d.isMDXComponent=!0}}]);