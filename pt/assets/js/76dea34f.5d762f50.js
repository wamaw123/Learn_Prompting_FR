"use strict";(self.webpackChunkpromptgineering=self.webpackChunkpromptgineering||[]).push([[5641],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>f});var o=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,o,r=function(e,a){if(null==e)return{};var t,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)t=n[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),p=function(e){var a=o.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},m=function(e){var a=p(e.components);return o.createElement(l.Provider,{value:a},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},u=o.forwardRef((function(e,a){var t=e.components,r=e.mdxType,n=e.originalType,l=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=p(t),u=r,f=c["".concat(l,".").concat(u)]||c[u]||d[u]||n;return t?o.createElement(f,s(s({ref:a},m),{},{components:t})):o.createElement(f,s({ref:a},m))}));function f(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var n=t.length,s=new Array(n);s[0]=u;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[c]="string"==typeof e?e:r,s[1]=i;for(var p=2;p<n;p++)s[p]=t[p];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}u.displayName="MDXCreateElement"},31891:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>g,contentTitle:()=>u,default:()=>L,frontMatter:()=>d,metadata:()=>f,toc:()=>k});var o=t(87462),r=(t(67294),t(3905));const n=t.p+"assets/images/mrkl_task-1c49ad5b95a103a61a1a09323675d9b2.webp",s=t.p+"assets/images/dataset-88e1813bfa8d586a159e2c9032c0f2a2.webp",i=t.p+"assets/images/load_dataset-415700ff19804d1e387bf3ebaf9c0af4.webp",l=t.p+"assets/images/model-a685c56be44600a60767adb710c6c430.webp",p=t.p+"assets/images/extract-bd0bfa308aa57625dc73a6e6467023f1.webp",m=t.p+"assets/images/search-9df707812e09d8b6a51a94ab2cdd2a1c.webp",c=t.p+"assets/images/final-67fa70546790171e13cbdd86dc886039.webp",d={sidebar_position:2},u="\ud83d\udfe1 Usando Ferramentas de LLM",f={unversionedId:"advanced_applications/mrkl",id:"advanced_applications/mrkl",title:"\ud83d\udfe1 Usando Ferramentas de LLM",description:"Os sistemas MRKL (@karpas2022mrkl) (Racioc\xednio Modular, Conhecimento e Linguagem, ou Modular Reasoning, Knowledge and Language, em ingl\xeas) s\xe3o uma arquitetura neuro-simb\xf3lica que combinam LLMs (computa\xe7\xe3o neural) e ferramentas externas como calculadoras (computa\xe7\xe3o simb\xf3lica) para resolver problemas complexos.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/advanced_applications/mrkl.md",sourceDirName:"advanced_applications",slug:"/advanced_applications/mrkl",permalink:"/pt/docs/advanced_applications/mrkl",draft:!1,editUrl:"https://github.com/trigaten/promptgineering/tree/v1.2.3/docs/advanced_applications/mrkl.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/pt/docs/advanced_applications/overview"},next:{title:"\ud83d\udfe1 LLMs que Raciocinam e Reagem",permalink:"/pt/docs/advanced_applications/react"}},g={},k=[{value:"Um Exemplo",id:"um-exemplo",level:2},{value:"Notas",id:"notas",level:2},{value:"Mais",id:"mais",level:2}],b=(v="LazyLoadImage",function(e){return console.warn("Component "+v+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)});var v;const h={toc:k},y="wrapper";function L(e){let{components:a,...t}=e;return(0,r.kt)(y,(0,o.Z)({},h,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"-usando-ferramentas-de-llm"},"\ud83d\udfe1 Usando Ferramentas de LLM"),(0,r.kt)("p",null,"Os sistemas MRKL",(0,r.kt)("sup",{parentName:"p",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))," (Racioc\xednio Modular, Conhecimento e Linguagem, ou Modular Reasoning, Knowledge and Language, em ingl\xeas) s\xe3o uma ",(0,r.kt)("strong",{parentName:"p"},"arquitetura neuro-simb\xf3lica")," que combinam LLMs (computa\xe7\xe3o neural) e ferramentas externas como calculadoras (computa\xe7\xe3o simb\xf3lica) para resolver problemas complexos."),(0,r.kt)("p",null,'Um sistema MRKL \xe9 composto por um conjunto de m\xf3dulos (por exemplo, uma calculadora, API de clima, banco de dados, etc.) e um roteador que decide como "rotear" as consultas em linguagem natural para o m\xf3dulo apropriado.'),(0,r.kt)("p",null,"Um exemplo simples de um sistema MRKL \xe9 um LLM que pode usar um aplicativo de calculadora. Este \xe9 um sistema de m\xf3dulo \xfanico, onde o LLM \xe9 o roteador. Quando perguntado, ",(0,r.kt)("inlineCode",{parentName:"p"},"Quanto \xe9 100*100?"),", o LLM pode escolher extrair os n\xfameros da solicita\xe7\xe3o e, em seguida, informar ao sistema MRKL para usar um aplicativo de calculadora para calcular o resultado. Isso pode parecer o seguinte:"),(0,r.kt)("pre",null,(0,r.kt)("p",null,"Quanto \xe9 100*100?"),(0,r.kt)("span",{className:"bluegreen-highlight"},"CALCULADORA[100*100]")),(0,r.kt)("p",null,"O sistema MRKL veria a palavra CALCULADORA e inseriria 100*100 na calculadora. Essa ideia simples pode ser facilmente expandida para v\xe1rias ferramentas de computa\xe7\xe3o simb\xf3lica."),(0,r.kt)("p",null,"Considere os seguintes exemplos adicionais de aplicativos:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Um chatbot capaz de responder a perguntas sobre um banco de dados financeiro, extraindo informa\xe7\xf5es para formar uma consulta SQL a partir do texto dos usu\xe1rios.")),(0,r.kt)("pre",null,(0,r.kt)("p",null,"Qual o pre\xe7o do stock da Apple nesse exato momento?"),(0,r.kt)("span",{className:"bluegreen-highlight"},'O pre\xe7o do stock da Apple nesse momento \xe9 DATABASE[SELECT price FROM stock WHERE company = "Apple" AND time = "now"].')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Um chatbot capaz de responder a perguntas sobre o tempo extraindo informa\xe7\xf5es do prompt e usando uma API meteorol\xf3gica para recuperar as informa\xe7\xf5es.")),(0,r.kt)("pre",null,(0,r.kt)("p",null,"Como \xe9 o clima em Nova York?"),(0,r.kt)("span",{className:"bluegreen-highlight"},"O clima \xe9 WEATHER_API[New York].")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Ou at\xe9 realizar tarefas muito mais complexas incluidno v\xe1rios bancos de dados, como nos exemplos a seguir:")),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)("img",{src:n,style:{width:"500px"}})),(0,r.kt)("div",{style:{textAlign:"center"}},"Exemplo de um Systema MRKL (AI21)"),(0,r.kt)("h2",{id:"um-exemplo"},"Um Exemplo"),(0,r.kt)("p",null,"Eu reproduzi um exemplo de Sistema MRKL do artigo original, usando o Dust.tt, dispon\xedvel ",(0,r.kt)("a",{parentName:"p",href:"https://dust.tt/w/f3fa61f0aa/a/17501cd008"},"aqui"),". O sistema l\xea um problema matem\xe1tico (por exemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"Qual \xe9 o resultado de 20 vezes 5^6?"),"), extrai os n\xfameros e as opera\xe7\xf5es, e os formata a fim de que possam ser utilizados em  uma calculadora (por exemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"20*5^6"),"). Em seguida, ele envia a equa\xe7\xe3o reformatada para a calculadora do Google e retorna o resultado. Observe que o artigo original faz um ajuste fino na consulta (no roteador, que \xe9 o LLM), mas eu n\xe3o fa\xe7o isso neste exemplo. Vamos ver como isso funciona:"),(0,r.kt)("p",null,"Primeiro, eu criei um dataset simples na aba ",(0,r.kt)("inlineCode",{parentName:"p"},"Datasets")," do Dust."),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)(b,{src:s,style:{width:"750px"},mdxType:"LazyLoadImage"})),(0,r.kt)("p",null,"Depois, eu mudei para a aba ",(0,r.kt)("inlineCode",{parentName:"p"},"Specification")," e inclui o dataset acima usando um bloco do tipo ",(0,r.kt)("inlineCode",{parentName:"p"},"input"),"."),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)(b,{src:i,style:{width:"750px"},mdxType:"LazyLoadImage"})),(0,r.kt)("p",null,"Em seguida, criei um bloco do tipo ",(0,r.kt)("inlineCode",{parentName:"p"},"lmm")," que extrai os n\xfameros e opera\xe7\xf5es matem\xe1tica. Note que quando eu crio o promt eu passo que estou usando a calculadora do Google. O modelo que eu usei (GPT-3) provavelmente tem algum conhecimento da calculadora do Google devido ao seu pr\xe9-treinamento."),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)(b,{src:l,style:{width:"750px"},mdxType:"LazyLoadImage"})),(0,r.kt)("p",null,"Ent\xe3o eu criei um block do tipo ",(0,r.kt)("inlineCode",{parentName:"p"},"code"),", no qual inclu\xed um c\xf3digo em javascript bem simples para remover os espa\xe7os da resposta."),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)(b,{src:p,style:{width:"750px"},mdxType:"LazyLoadImage"})),(0,r.kt)("p",null,"Finalmente, eu criei um bloco do tipo ",(0,r.kt)("inlineCode",{parentName:"p"},"search")," que manda a equa\xe7\xe3o formatada para a calculadora do Google."),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)(b,{src:m,style:{width:"750px"},mdxType:"LazyLoadImage"})),(0,r.kt)("p",null,"Abaixo voc\xea pode ver os resultando, que est\xe3o todos corretos!"),(0,r.kt)("div",{style:{textAlign:"center"}},(0,r.kt)(b,{src:c,style:{width:"750px"},mdxType:"LazyLoadImage"})),(0,r.kt)("p",null,"Fique \xe0 vontade para copiar e brincar com esse c\xf3digo ",(0,r.kt)("a",{parentName:"p",href:"https://dust.tt/w/f3fa61f0aa/a/17501cd008"},"aqui"),"."),(0,r.kt)("h2",{id:"notas"},"Notas"),(0,r.kt)("p",null,"MRKL foi desenvolvido por ",(0,r.kt)("a",{parentName:"p",href:"https://www.ai21.com/"},"AI21"),", o qual originalmente usaram o LMM J-1 (Jurassic 1)",(0,r.kt)("sup",{parentName:"p",id:"fnref-2"},(0,r.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")),"."),(0,r.kt)("h2",{id:"mais"},"Mais"),(0,r.kt)("p",null,"Confira ",(0,r.kt)("a",{parentName:"p",href:"https://python.langchain.com/en/latest/modules/agents/agents/examples/mrkl.html"},"esse exemplo")," de um sistemas MRKL constru\xeddo com LangChain."),(0,r.kt)("div",{className:"footnotes"},(0,r.kt)("hr",{parentName:"div"}),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol",id:"fn-1"},"Karpas, E., Abend, O., Belinkov, Y., Lenz, B., Lieber, O., Ratner, N., Shoham, Y., Bata, H., Levine, Y., Leyton-Brown, K., Muhlgay, D., Rozen, N., Schwartz, E., Shachaf, G., Shalev-Shwartz, S., Shashua, A., & Tenenholtz, M. (2022).\n",(0,r.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,r.kt)("li",{parentName:"ol",id:"fn-2"},"Lieber, O., Sharir, O., Lentz, B., & Shoham, Y. (2021). Jurassic-1: Technical Details and Evaluation, White paper, AI21 Labs, 2021. URL: Https://Uploads-Ssl. Webflow. Com/60fd4503684b466578c0d307/61138924626a6981ee09caf6_jurassic_ Tech_paper. Pdf.\n",(0,r.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}L.isMDXComponent=!0}}]);